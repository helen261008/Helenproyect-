<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FashionShop - Tienda de Ropa Online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        /* --- [AQUÍ VA TODO TU CSS, IGUAL QUE EN TU ARCHIVO, NO SE MODIFICA NI SE BORRA NADA] --- */
        /* ... (el CSS es igual que tu archivo original, incluido el de .ticket-overlay y .ticket-container) ... */
        /* Puedes pegar aquí todo tu CSS si lo necesitas para referencia, pero no es necesario cambiar nada del estilo */
    </style>
</head>
<body>
    <!-- ... (todo tu header, navegación, banners, productos, etc. igual que antes) ... -->

    <!-- Ticket Mejorado -->
    <div class="ticket-overlay" id="ticketOverlay">
        <div class="ticket-container">
            <div class="ticket-header">
                <h2>Ticket de Compra</h2>
            </div>
            <div class="ticket-details" id="ticketDetails">
                <!-- Aquí pueden ir detalles del cliente si los tienes -->
            </div>
            <div class="ticket-items" id="ticketItems">
                <!-- Aquí se mostrarán los productos seleccionados -->
            </div>
            <div class="ticket-total" id="ticketTotal">
                <!-- Aquí va el total -->
            </div>
            <button class="btn-download" onclick="descargarTicketPDF()">Descargar Ticket PDF</button>
        </div>
    </div>

    <!-- ... (resto de tu página, como el carrito, checkout, footer, etc.) ... -->

    <script>
        // Función para mostrar el ticket de compra de forma ordenada
        // productos = [{nombre, cantidad, precio}]
        function mostrarTicket(productos, total) {
            let itemsHTML = '';
            productos.forEach(p => {
                itemsHTML += `
                    <div class="ticket-item">
                        <span>${p.nombre} x${p.cantidad}</span>
                        <span>$${(p.precio * p.cantidad).toFixed(2)}</span>
                    </div>
                `;
            });
            document.getElementById('ticketItems').innerHTML = itemsHTML;
            document.getElementById('ticketTotal').innerHTML = `Total: $${total.toFixed(2)}`;
            document.getElementById('ticketOverlay').style.display = 'flex';
        }

        // Ejemplo de cómo llamar la función (remplaza esto por tu propio flujo real)
        // mostrarTicket(
        //     [
        //         {nombre: "Playera", cantidad: 2, precio: 150},
        //         {nombre: "Pantalón", cantidad: 1, precio: 300}
        //     ],
        //     600
        // );

        // Función para ocultar el ticket si lo deseas
        function ocultarTicket() {
            document.getElementById('ticketOverlay').style.display = 'none';
        }

        // Si tienes función para descargar el ticket en PDF, déjala igual:
        function descargarTicketPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFontSize(16);
            doc.text("Ticket de Compra", 20, 20);

            let y = 40;
            const items = document.querySelectorAll('.ticket-item');
            items.forEach(item => {
                doc.setFontSize(12);
                doc.text(item.innerText, 20, y);
                y += 10;
            });

            doc.setFontSize(14);
            const total = document.getElementById('ticketTotal').innerText;
            doc.text(total, 20, y + 10);

            doc.save('ticket.pdf');
        }
    </script>
</body>
</html>
